{"version":3,"sources":["../../src/repository/index.js"],"names":["getRepository","repository","get","type","require","Error","configFailed","t"],"mappings":";;;;;QAMgBA,a,GAAAA,a;;AANhB;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,mBAAJ;;AAEO,SAASD,aAAT,GAAyB;AAC9B,MAAIC,UAAJ,EAAgB;AACd,WAAOA,UAAP;AACD;;AAEDA,eAAa,iBAAOC,GAAP,CAAW,YAAX,EAAyBC,IAAzB,GACXC,eAAa,iBAAOF,GAAP,CAAW,YAAX,EAAyBC,IAAtC,iBADW,GACgD,IAD7D;;AAGA,MAAI,CAACF,UAAL,EACE,MAAMI,MACJ,cAAIC,YADA,EAEJ,eAAKC,CAAL,CAAO,sCAAP,CAFI,CAAN;;AAKF,SAAON,UAAP;AACD","file":"index.js","sourcesContent":["import config from '../config';\r\nimport err from '../err';\r\nimport i18n from '../i18n';\r\n\r\nlet repository;\r\n\r\nexport function getRepository() {\r\n  if (repository) {\r\n    return repository;\r\n  }\r\n\r\n  repository = config.get('repository').type ?\r\n    require(`./${config.get('repository').type}_repository`) : null;\r\n\r\n  if (!repository)\r\n    throw Error(\r\n      err.configFailed,\r\n      i18n.t('领域仓库未正确配置，可以在config/repository.js中指定')\r\n    );\r\n\r\n  return repository;\r\n};\r\n"]}