{"version":3,"sources":["../../src/storage/index.js"],"names":["create","storageConfig","get","type","require","default","db","Error","configFailed"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;kBAEeA,SAAS,kBAAI;AAC1B,MAAIC,gBAAgB,iBAAOC,GAAP,CAAW,SAAX,CAApB;AACA,MAAID,cAAcE,IAAd,KAAuB,OAA3B,EAAmC;AACjC,WAAO,IAAIC,OAAJ,CAAY,SAAZ,EAAuBC,OAAvB,CAA+BJ,cAAcK,EAA7C,CAAP;AACD,GAFD,MAEK;AACH,UAAMC,MACJ,cAAIC,YADA,EAEJ,mCAFI,CAAN;AAID;AACF,C","file":"index.js","sourcesContent":["import config from '../config';\r\nimport err from '../err';\r\n\r\nexport default create = ()=>{\r\n  let storageConfig = config.get('storage');\r\n  if (storageConfig.type === 'mysql'){\r\n    return new require('./mysql').default(storageConfig.db);\r\n  }else{\r\n    throw Error(\r\n      err.configFailed,\r\n      '存储仓库未正确配置，可以在config/storage.js中指定'\r\n    );\r\n  }\r\n}\r\n"]}